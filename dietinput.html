<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diet Analytics - New Leaf</title>
    <link rel="stylesheet" href="dietinputStyle.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Diet Analytics</h1>
        </header>
        <main>
            <section class="patient-list">
                <h2>Patient List</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Age</th>
                            <th>Gender</th>
                            <th>Diagnosis</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="selectPatient('John Doe')">
                            <td>John Doe</td>
                            <td>45</td>
                            <td>Male</td>
                            <td>Type 2 Diabetes</td>
                        </tr>
                        <tr onclick="selectPatient('Jane Smith')">
                            <td>Jane Smith</td>
                            <td>38</td>
                            <td>Female</td>
                            <td>Type 1 Diabetes</td>
                        </tr>
                        <!-- Add more patient rows as needed -->
                    </tbody>
                </table>
            </section>
            <section class="diet-input">
                <h2>Diet Input</h2>
                <form id="dietForm">
                    <div class="input-box">
                        <select id="patientSelect" required>
                            <option value="">Select Patient</option>
                            <option value="John Doe">John Doe</option>
                            <option value="Jane Smith">Jane Smith</option>
                            <!-- Add more patient options as needed -->
                        </select>
                        <i class='bx bxs-user'></i>
                    </div>
                    <div class="input-box">
                        <input type="text" id="foodItem" placeholder="Food Item" required>
                        <i class='bx bxs-book-content'></i>
                    </div>
                    <div class="input-box">
                        <input type="number" id="calories" placeholder="Calories (kcal)" required>
                        <i class='bx bxs-calculator'></i>
                    </div>
                    <div class="input-box">
                        <input type="number" id="carbohydrates" placeholder="Carbohydrates (g)" required>
                        <i class='bx bxs-pencil'></i>
                    </div>
                    <div class="input-box">
                        <input type="number" id="proteins" placeholder="Proteins (g)" required>
                        <i class='bx bxs-dumbbell'></i>
                    </div>
                    <div class="input-box">
                        <input type="number" id="fats" placeholder="Fats (g)" required>
                        <i class='bx bxs-baguette'></i>
                    </div>
                    <button type="submit" class="btn">Submit</button>
                </form>
            </section>
            <section class="diet-analytics">
                <h2>Diet Analytics</h2>
                <div class="analytics-content">
                    <canvas id="dietChart"></canvas>
                </div>
            </section>
        </main>
    </div>
    <script>
        function selectPatient(patientName) {
            document.getElementById('patientSelect').value = patientName;
        }

        document.getElementById('dietForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const patientName = document.getElementById('patientSelect').value;
            const foodItem = document.getElementById('foodItem').value;
            const calories = document.getElementById('calories').value;
            const carbohydrates = document.getElementById('carbohydrates').value;
            const proteins = document.getElementById('proteins').value;
            const fats = document.getElementById('fats').value;

            if (patientName && foodItem && calories && carbohydrates && proteins && fats) {
                // Add diet input data to the patient-specific chart (this part can be customized)
                const ctx = document.getElementById('dietChart').getContext('2d');
                const myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Carbs', 'Proteins', 'Fats'],
                        datasets: [{
                            label: `Diet Analytics for ${patientName}`,
                            data: [carbohydrates, proteins, fats],
                            backgroundColor: [
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)'
                            ],
                            borderColor: [
                                'rgba(75, 192, 192, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            } else {
                alert('Please fill out all fields.');
            }
        });
    </script>
</body>
</html>
